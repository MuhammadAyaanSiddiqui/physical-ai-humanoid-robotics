"use strict";(globalThis.webpackChunkphysical_ai_course=globalThis.webpackChunkphysical_ai_course||[]).push([[7786],{3270:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"module-4-vla/vla-pipeline-diagram","title":"VLA Pipeline Architecture Diagram","description":"Complete System Flow","source":"@site/docs/module-4-vla/vla-pipeline-diagram.md","sourceDirName":"module-4-vla","slug":"/module-4-vla/vla-pipeline-diagram","permalink":"/physical-ai-humanoid-robotics/docs/module-4-vla/vla-pipeline-diagram","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-4-vla/vla-pipeline-diagram.md","tags":[],"version":"current","frontMatter":{}}');var r=i(4848),l=i(8453);const t={},c="VLA Pipeline Architecture Diagram",d={},a=[{value:"Complete System Flow",id:"complete-system-flow",level:2},{value:"Component Details",id:"component-details",level:2},{value:"Data Flow Example",id:"data-flow-example",level:2},{value:"Input",id:"input",level:3},{value:"Pipeline Processing",id:"pipeline-processing",level:3},{value:"Error Handling Flow",id:"error-handling-flow",level:2},{value:"Performance Metrics",id:"performance-metrics",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"vla-pipeline-architecture-diagram",children:"VLA Pipeline Architecture Diagram"})}),"\n",(0,r.jsx)(n.h2,{id:"complete-system-flow",children:"Complete System Flow"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mermaid",children:"graph TD\n    A[User Voice Command] --\x3e|Audio| B[ReSpeaker Microphone]\n    B --\x3e|16kHz WAV| C[Whisper STT]\n    C --\x3e|Transcript| D[Command Parser]\n    D --\x3e|Intent & Entities| E[LLM Planner GPT-4/Claude]\n    E --\x3e|Action Plan JSON| F[Action Validator]\n    F --\x3e|Valid Plan| G[ROS 2 Action Executor]\n    F --\x3e|Invalid| H[Clarification Request]\n    H --\x3e|User Response| D\n    G --\x3e|Execute| I[Robot Hardware]\n    I --\x3e|Sensor Feedback| J[Task Monitor]\n    J --\x3e|Success| K[Completion Report]\n    J --\x3e|Failure| L[Recovery Strategy]\n    L --\x3e|Retry| G\n    L --\x3e|Replan| E\n    K --\x3e|TTS| M[Voice Feedback to User]\n\n    style A fill:#e1f5ff\n    style C fill:#fff4e1\n    style E fill:#ffe1f5\n    style G fill:#e1ffe1\n    style I fill:#f5e1ff\n"})}),"\n",(0,r.jsx)(n.h2,{id:"component-details",children:"Component Details"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Component"}),(0,r.jsx)(n.th,{children:"Technology"}),(0,r.jsx)(n.th,{children:"Latency"}),(0,r.jsx)(n.th,{children:"Purpose"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"ReSpeaker"})}),(0,r.jsx)(n.td,{children:"USB Microphone Array"}),(0,r.jsx)(n.td,{children:"~0ms"}),(0,r.jsx)(n.td,{children:"Far-field audio capture with beamforming"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Whisper STT"})}),(0,r.jsx)(n.td,{children:"OpenAI API / Local Model"}),(0,r.jsx)(n.td,{children:"500-2000ms"}),(0,r.jsx)(n.td,{children:"Speech-to-text transcription"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Command Parser"})}),(0,r.jsx)(n.td,{children:"spaCy NLU"}),(0,r.jsx)(n.td,{children:"50-100ms"}),(0,r.jsx)(n.td,{children:"Extract intent and entities"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"LLM Planner"})}),(0,r.jsx)(n.td,{children:"GPT-4o-mini / Claude"}),(0,r.jsx)(n.td,{children:"1000-3000ms"}),(0,r.jsx)(n.td,{children:"Generate action sequences"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Action Validator"})}),(0,r.jsx)(n.td,{children:"Python Logic"}),(0,r.jsx)(n.td,{children:"10ms"}),(0,r.jsx)(n.td,{children:"Check feasibility and safety"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"ROS 2 Executor"})}),(0,r.jsx)(n.td,{children:"Action Servers"}),(0,r.jsx)(n.td,{children:"Varies"}),(0,r.jsx)(n.td,{children:"Execute robot actions"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Task Monitor"})}),(0,r.jsx)(n.td,{children:"ROS 2 Feedback"}),(0,r.jsx)(n.td,{children:"Real-time"}),(0,r.jsx)(n.td,{children:"Monitor execution and detect failures"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"data-flow-example",children:"Data Flow Example"}),"\n",(0,r.jsx)(n.h3,{id:"input",children:"Input"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'User says: "Go to the kitchen and pick up the red cup"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"pipeline-processing",children:"Pipeline Processing"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Audio Capture"})," (ReSpeaker)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"16kHz mono audio \u2192 3-second buffer \u2192 WAV file\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Speech-to-Text"})," (Whisper)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'WAV \u2192 Whisper API \u2192 "Go to the kitchen and pick up the red cup"\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Command Parsing"})," (spaCy)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "intent": "compound_task",\n  "entities": {\n    "locations": ["kitchen"],\n    "objects": ["cup"],\n    "colors": ["red"],\n    "actions": ["go", "pick"]\n  }\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"LLM Planning"})," (GPT-4)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "plan": [\n    {"action": "navigate", "location": "kitchen"},\n    {"action": "scan", "target": "cup"},\n    {"action": "pick", "object": "cup", "color": "red"}\n  ],\n  "reasoning": "Navigate to kitchen first, then scan to locate the red cup, finally execute pick action"\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Validation"})," (Safety Checks)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'\u2713 Location "kitchen" exists\n\u2713 Object "cup" in known objects list\n\u2713 Action sequence is feasible\n\u2713 No safety violations\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Execution"})," (ROS 2 Actions)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'Action 1: navigate("kitchen") \u2192 Success (5.2s)\nAction 2: scan("cup") \u2192 Found at (0.5, 0.3, 0.75) (1.8s)\nAction 3: pick("cup", "red") \u2192 Grasped (3.1s)\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Completion"})," (Feedback)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'"I\'ve successfully picked up the red cup from the kitchen."\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"error-handling-flow",children:"Error Handling Flow"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mermaid",children:"graph TD\n    A[Action Execution] --\x3e|Success| B[Next Action]\n    A --\x3e|Failure| C{Failure Type}\n    C --\x3e|Recoverable| D[Retry 3x]\n    C --\x3e|Unrecoverable| E[Request Replan]\n    D --\x3e|Still Fails| E\n    E --\x3e|LLM| F[Alternative Plan]\n    F --\x3e|Execute| A\n    E --\x3e|No Solution| G[Ask User for Help]\n"})}),"\n",(0,r.jsx)(n.h2,{id:"performance-metrics",children:"Performance Metrics"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"End-to-End Latency Breakdown"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Audio Capture: 3000ms (buffer duration)"}),"\n",(0,r.jsx)(n.li,{children:"Whisper Transcription: 800ms"}),"\n",(0,r.jsx)(n.li,{children:"Command Parsing: 50ms"}),"\n",(0,r.jsx)(n.li,{children:"LLM Planning: 1500ms"}),"\n",(0,r.jsx)(n.li,{children:"Validation: 10ms"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Total Thinking Time"}),": ~5.4 seconds"]}),"\n",(0,r.jsx)(n.li,{children:"Action Execution: Varies (3-30 seconds)"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Optimization Strategies"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use local Whisper (500ms instead of 800ms)"}),"\n",(0,r.jsx)(n.li,{children:"Cache frequent command patterns"}),"\n",(0,r.jsx)(n.li,{children:"Parallelize visual grounding with planning"}),"\n",(0,r.jsx)(n.li,{children:"Use faster LLM (GPT-4o-mini vs GPT-4)"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:"This diagram can be embedded in lessons using:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-markdown",children:"See [VLA Pipeline Diagram](../vla-pipeline-diagram.md) for the complete system architecture.\n"})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>c});var s=i(6540);const r={},l=s.createContext(r);function t(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);