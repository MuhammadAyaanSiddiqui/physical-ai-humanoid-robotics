"use strict";(globalThis.webpackChunkphysical_ai_course=globalThis.webpackChunkphysical_ai_course||[]).push([[2215],{3156:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"module-1-ros2/ch1-fundamentals/cli-tools","title":"ROS 2 CLI Tools","description":"Introduction","source":"@site/docs/module-1-ros2/ch1-fundamentals/cli-tools.md","sourceDirName":"module-1-ros2/ch1-fundamentals","slug":"/module-1-ros2/ch1-fundamentals/cli-tools","permalink":"/physical-ai-humanoid-robotics/docs/module-1-ros2/ch1-fundamentals/cli-tools","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-1-ros2/ch1-fundamentals/cli-tools.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Services and Actions","permalink":"/physical-ai-humanoid-robotics/docs/module-1-ros2/ch1-fundamentals/services-actions"},"next":{"title":"Your First ROS 2 Node in Python","permalink":"/physical-ai-humanoid-robotics/docs/module-1-ros2/ch2-python-rclpy/first-node"}}');var i=n(4848),l=n(8453);const a={},c="ROS 2 CLI Tools",o={},t=[{value:"Introduction",id:"introduction",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Core ROS 2 CLI Tools",id:"core-ros-2-cli-tools",level:2},{value:"1. ros2 topic",id:"1-ros2-topic",level:3},{value:"List All Topics",id:"list-all-topics",level:4},{value:"List Topics with Types",id:"list-topics-with-types",level:4},{value:"Echo Topic Data",id:"echo-topic-data",level:4},{value:"Get Topic Information",id:"get-topic-information",level:4},{value:"Publish to a Topic",id:"publish-to-a-topic",level:4},{value:"Check Topic Frequency",id:"check-topic-frequency",level:4},{value:"Check Message Bandwidth",id:"check-message-bandwidth",level:4},{value:"2. ros2 node",id:"2-ros2-node",level:3},{value:"List All Nodes",id:"list-all-nodes",level:4},{value:"Get Node Information",id:"get-node-information",level:4},{value:"3. ros2 service",id:"3-ros2-service",level:3},{value:"List All Services",id:"list-all-services",level:4},{value:"List Services with Types",id:"list-services-with-types",level:4},{value:"Call a Service",id:"call-a-service",level:4},{value:"Call Empty Service",id:"call-empty-service",level:4},{value:"Get Service Type",id:"get-service-type",level:4},{value:"4. ros2 param",id:"4-ros2-param",level:3},{value:"List Parameters for a Node",id:"list-parameters-for-a-node",level:4},{value:"Get Parameter Value",id:"get-parameter-value",level:4},{value:"Set Parameter Value",id:"set-parameter-value",level:4},{value:"Dump Parameters to YAML File",id:"dump-parameters-to-yaml-file",level:4},{value:"Load Parameters from YAML File",id:"load-parameters-from-yaml-file",level:4},{value:"5. ros2 interface",id:"5-ros2-interface",level:3},{value:"Show Message Definition",id:"show-message-definition",level:4},{value:"Show Service Definition",id:"show-service-definition",level:4},{value:"List All Interfaces",id:"list-all-interfaces",level:4},{value:"List Interfaces by Package",id:"list-interfaces-by-package",level:4},{value:"6. ros2 bag",id:"6-ros2-bag",level:3},{value:"Record Topics",id:"record-topics",level:4},{value:"Play Back Recorded Data",id:"play-back-recorded-data",level:4},{value:"Get Bag Information",id:"get-bag-information",level:4},{value:"7. ros2 run and ros2 launch",id:"7-ros2-run-and-ros2-launch",level:3},{value:"Run a Node",id:"run-a-node",level:4},{value:"Launch a Launch File",id:"launch-a-launch-file",level:4},{value:"8. rqt_graph - Visual Debugging",id:"8-rqt_graph---visual-debugging",level:3},{value:"9. ros2 doctor",id:"9-ros2-doctor",level:3},{value:"Practical Workflow Examples",id:"practical-workflow-examples",level:2},{value:"Example 1: Debug Publisher-Subscriber Communication",id:"example-1-debug-publisher-subscriber-communication",level:3},{value:"Example 2: Test a Service",id:"example-2-test-a-service",level:3},{value:"Example 3: Record and Replay Experiment",id:"example-3-record-and-replay-experiment",level:3},{value:"Command Cheat Sheet",id:"command-cheat-sheet",level:2},{value:"Common Patterns and Best Practices",id:"common-patterns-and-best-practices",level:2},{value:"1. Always Source Your Workspace",id:"1-always-source-your-workspace",level:3},{value:"2. Use Tab Completion",id:"2-use-tab-completion",level:3},{value:"3. Combine with Standard Linux Tools",id:"3-combine-with-standard-linux-tools",level:3},{value:"4. Use Remapping for Testing",id:"4-use-remapping-for-testing",level:3},{value:"Troubleshooting with CLI Tools",id:"troubleshooting-with-cli-tools",level:2},{value:"Problem: &quot;No topics available&quot;",id:"problem-no-topics-available",level:3},{value:"Problem: &quot;Service not available&quot;",id:"problem-service-not-available",level:3},{value:"Problem: &quot;Messages not received&quot;",id:"problem-messages-not-received",level:3},{value:"Hands-On Exercise",id:"hands-on-exercise",level:2},{value:"Exercise: Complete CLI Workflow",id:"exercise-complete-cli-workflow",level:3},{value:"Summary",id:"summary",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Additional Resources",id:"additional-resources",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"ros-2-cli-tools",children:"ROS 2 CLI Tools"})}),"\n",(0,i.jsx)(s.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsx)(s.p,{children:"The ROS 2 command-line interface (CLI) provides powerful tools for interacting with your robot system. These tools allow you to inspect, debug, and control ROS 2 nodes, topics, services, and more without writing any code. Mastering the CLI is essential for effective development and troubleshooting."}),"\n",(0,i.jsx)(s.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,i.jsx)(s.p,{children:"By the end of this lesson, you will be able to:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Use ",(0,i.jsx)(s.code,{children:"ros2 topic"})," commands to inspect and interact with topics"]}),"\n",(0,i.jsxs)(s.li,{children:["Use ",(0,i.jsx)(s.code,{children:"ros2 node"})," commands to view and manage nodes"]}),"\n",(0,i.jsxs)(s.li,{children:["Use ",(0,i.jsx)(s.code,{children:"ros2 service"})," commands to call services"]}),"\n",(0,i.jsxs)(s.li,{children:["Use ",(0,i.jsx)(s.code,{children:"ros2 param"})," commands to get and set parameters"]}),"\n",(0,i.jsx)(s.li,{children:"Debug ROS 2 systems using CLI tools"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"ROS 2 Humble installed and sourced"}),"\n",(0,i.jsx)(s.li,{children:"Understanding of nodes, topics, and services"}),"\n",(0,i.jsx)(s.li,{children:"Basic terminal navigation skills"}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"core-ros-2-cli-tools",children:"Core ROS 2 CLI Tools"}),"\n",(0,i.jsx)(s.h3,{id:"1-ros2-topic",children:"1. ros2 topic"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"ros2 topic"})," command is used to interact with ROS 2 topics."]}),"\n",(0,i.jsx)(s.h4,{id:"list-all-topics",children:"List All Topics"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 topic list\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Output Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"/parameter_events\n/rosout\n/chatter\n/robot/velocity\n"})}),"\n",(0,i.jsx)(s.h4,{id:"list-topics-with-types",children:"List Topics with Types"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 topic list -t\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Output Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"/chatter [std_msgs/msg/String]\n/robot/velocity [geometry_msgs/msg/Twist]\n"})}),"\n",(0,i.jsx)(s.h4,{id:"echo-topic-data",children:"Echo Topic Data"}),"\n",(0,i.jsx)(s.p,{children:"View messages published to a topic in real-time:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 topic echo /chatter\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Output Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"data: 'Hello World: 0'\n---\ndata: 'Hello World: 1'\n---\n"})}),"\n",(0,i.jsx)(s.h4,{id:"get-topic-information",children:"Get Topic Information"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 topic info /chatter\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Output Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"Type: std_msgs/msg/String\nPublisher count: 1\nSubscription count: 1\n"})}),"\n",(0,i.jsx)(s.h4,{id:"publish-to-a-topic",children:"Publish to a Topic"}),"\n",(0,i.jsx)(s.p,{children:"Manually publish a message to a topic:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 topic pub /chatter std_msgs/msg/String \"data: 'Hello from CLI'\"\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Publish Once:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 topic pub --once /chatter std_msgs/msg/String \"data: 'One-time message'\"\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Publish at Specific Rate (10 Hz):"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 topic pub --rate 10 /chatter std_msgs/msg/String \"data: 'Hello at 10Hz'\"\n"})}),"\n",(0,i.jsx)(s.h4,{id:"check-topic-frequency",children:"Check Topic Frequency"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 topic hz /chatter\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Output Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"average rate: 10.002\n  min: 0.099s max: 0.101s std dev: 0.00095s window: 10\n"})}),"\n",(0,i.jsx)(s.h4,{id:"check-message-bandwidth",children:"Check Message Bandwidth"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 topic bw /chatter\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Output Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"average: 156B/s\n  mean: 52B min: 52B max: 52B window: 3\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"2-ros2-node",children:"2. ros2 node"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"ros2 node"})," command manages and inspects ROS 2 nodes."]}),"\n",(0,i.jsx)(s.h4,{id:"list-all-nodes",children:"List All Nodes"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 node list\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Output Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"/talker\n/listener\n/robot_controller\n"})}),"\n",(0,i.jsx)(s.h4,{id:"get-node-information",children:"Get Node Information"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 node info /talker\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Output Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"/talker\n  Subscribers:\n    /parameter_events: rcl_interfaces/msg/ParameterEvent\n  Publishers:\n    /chatter: std_msgs/msg/String\n    /rosout: rcl_interfaces/msg/Log\n  Service Servers:\n    /talker/describe_parameters: rcl_interfaces/srv/DescribeParameters\n    /talker/get_parameter_types: rcl_interfaces/srv/GetParameterTypes\n    /talker/get_parameters: rcl_interfaces/srv/GetParameters\n    /talker/list_parameters: rcl_interfaces/srv/ListParameters\n    /talker/set_parameters: rcl_interfaces/srv/SetParameters\n  Service Clients:\n\n  Action Servers:\n\n  Action Clients:\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"3-ros2-service",children:"3. ros2 service"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"ros2 service"})," command interacts with ROS 2 services."]}),"\n",(0,i.jsx)(s.h4,{id:"list-all-services",children:"List All Services"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 service list\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Output Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"/add_two_ints\n/robot/reset_position\n/talker/describe_parameters\n"})}),"\n",(0,i.jsx)(s.h4,{id:"list-services-with-types",children:"List Services with Types"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 service list -t\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Output Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"/add_two_ints [example_interfaces/srv/AddTwoInts]\n/robot/reset_position [std_srvs/srv/Empty]\n"})}),"\n",(0,i.jsx)(s.h4,{id:"call-a-service",children:"Call a Service"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'ros2 service call /add_two_ints example_interfaces/srv/AddTwoInts "{a: 5, b: 3}"\n'})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Output Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"waiting for service to become available...\nrequester: making request: example_interfaces.srv.AddTwoInts_Request(a=5, b=3)\n\nresponse:\nexample_interfaces.srv.AddTwoInts_Response(sum=8)\n"})}),"\n",(0,i.jsx)(s.h4,{id:"call-empty-service",children:"Call Empty Service"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 service call /robot/reset_position std_srvs/srv/Empty\n"})}),"\n",(0,i.jsx)(s.h4,{id:"get-service-type",children:"Get Service Type"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 service type /add_two_ints\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Output Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"example_interfaces/srv/AddTwoInts\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"4-ros2-param",children:"4. ros2 param"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"ros2 param"})," command manages node parameters."]}),"\n",(0,i.jsx)(s.h4,{id:"list-parameters-for-a-node",children:"List Parameters for a Node"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 param list /talker\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Output Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"use_sim_time\npublish_rate\nmessage_prefix\n"})}),"\n",(0,i.jsx)(s.h4,{id:"get-parameter-value",children:"Get Parameter Value"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 param get /talker publish_rate\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Output Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"Integer value is: 10\n"})}),"\n",(0,i.jsx)(s.h4,{id:"set-parameter-value",children:"Set Parameter Value"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 param set /talker publish_rate 20\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Output Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"Set parameter successful\n"})}),"\n",(0,i.jsx)(s.h4,{id:"dump-parameters-to-yaml-file",children:"Dump Parameters to YAML File"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 param dump /talker > talker_params.yaml\n"})}),"\n",(0,i.jsx)(s.h4,{id:"load-parameters-from-yaml-file",children:"Load Parameters from YAML File"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 param load /talker talker_params.yaml\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"5-ros2-interface",children:"5. ros2 interface"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"ros2 interface"})," command shows message, service, and action definitions."]}),"\n",(0,i.jsx)(s.h4,{id:"show-message-definition",children:"Show Message Definition"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 interface show std_msgs/msg/String\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Output Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"# This was originally provided as an example message.\n# It is deprecated as of Foxy\n# It is recommended to create your own semantically meaningful message.\n# However if you would like to continue using this please use the equivalent in example_interfaces\n\nstring data\n"})}),"\n",(0,i.jsx)(s.h4,{id:"show-service-definition",children:"Show Service Definition"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 interface show example_interfaces/srv/AddTwoInts\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Output Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"int64 a\nint64 b\n---\nint64 sum\n"})}),"\n",(0,i.jsx)(s.h4,{id:"list-all-interfaces",children:"List All Interfaces"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 interface list\n"})}),"\n",(0,i.jsx)(s.h4,{id:"list-interfaces-by-package",children:"List Interfaces by Package"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 interface package std_msgs\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"6-ros2-bag",children:"6. ros2 bag"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"ros2 bag"})," command records and plays back ROS 2 data."]}),"\n",(0,i.jsx)(s.h4,{id:"record-topics",children:"Record Topics"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 bag record /chatter /robot/velocity\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Record All Topics:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 bag record -a\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Record with Custom Name:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 bag record -o my_experiment /chatter\n"})}),"\n",(0,i.jsx)(s.h4,{id:"play-back-recorded-data",children:"Play Back Recorded Data"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 bag play my_experiment\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Play in Loop:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 bag play -l my_experiment\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Play at Different Speed (2x):"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 bag play -r 2.0 my_experiment\n"})}),"\n",(0,i.jsx)(s.h4,{id:"get-bag-information",children:"Get Bag Information"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 bag info my_experiment\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Output Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"Files:             my_experiment_0.db3\nBag size:          1.2 MiB\nStorage id:        sqlite3\nDuration:          15.5s\nStart:             Dec 5 2025 10:30:00.123 (1733390400.123)\nEnd:               Dec 5 2025 10:30:15.623 (1733390415.623)\nMessages:          156\nTopic information: Topic: /chatter | Type: std_msgs/msg/String | Count: 156 | Serialization Format: cdr\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"7-ros2-run-and-ros2-launch",children:"7. ros2 run and ros2 launch"}),"\n",(0,i.jsx)(s.h4,{id:"run-a-node",children:"Run a Node"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 run <package_name> <executable_name>\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 run demo_nodes_cpp talker\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Run with Remapping:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 run demo_nodes_cpp talker --ros-args -r chatter:=/my_topic\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Run with Parameter:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 run demo_nodes_cpp talker --ros-args -p publish_rate:=5\n"})}),"\n",(0,i.jsx)(s.h4,{id:"launch-a-launch-file",children:"Launch a Launch File"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 launch <package_name> <launch_file>\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 launch my_robot_package robot_launch.py\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"8-rqt_graph---visual-debugging",children:"8. rqt_graph - Visual Debugging"}),"\n",(0,i.jsx)(s.p,{children:"Visualize the ROS 2 computation graph:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"rqt_graph\n"})}),"\n",(0,i.jsx)(s.p,{children:"This opens a GUI showing:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"All active nodes"}),"\n",(0,i.jsx)(s.li,{children:"Topics connecting them"}),"\n",(0,i.jsx)(s.li,{children:"Direction of data flow"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Use Cases:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Verify node connections"}),"\n",(0,i.jsx)(s.li,{children:"Debug communication issues"}),"\n",(0,i.jsx)(s.li,{children:"Understand system architecture"}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"9-ros2-doctor",children:"9. ros2 doctor"}),"\n",(0,i.jsx)(s.p,{children:"Diagnose ROS 2 system issues:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 doctor\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Output Example:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"Checking ROS 2 environment...\nAll checks passed!\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Detailed Report:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 doctor --report\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"practical-workflow-examples",children:"Practical Workflow Examples"}),"\n",(0,i.jsx)(s.h3,{id:"example-1-debug-publisher-subscriber-communication",children:"Example 1: Debug Publisher-Subscriber Communication"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Terminal 1: Start publisher\nros2 run demo_nodes_cpp talker\n\n# Terminal 2: List topics\nros2 topic list\n\n# Terminal 3: Check if messages are flowing\nros2 topic echo /chatter\n\n# Terminal 4: Check publish rate\nros2 topic hz /chatter\n\n# Terminal 5: Visualize graph\nrqt_graph\n"})}),"\n",(0,i.jsx)(s.h3,{id:"example-2-test-a-service",children:"Example 2: Test a Service"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'# Terminal 1: Start service server\nros2 run demo_nodes_cpp add_two_ints_server\n\n# Terminal 2: List available services\nros2 service list\n\n# Terminal 3: Call the service\nros2 service call /add_two_ints example_interfaces/srv/AddTwoInts "{a: 10, b: 20}"\n'})}),"\n",(0,i.jsx)(s.h3,{id:"example-3-record-and-replay-experiment",children:"Example 3: Record and Replay Experiment"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Terminal 1: Start your robot system\nros2 launch my_robot_package robot.launch.py\n\n# Terminal 2: Record experiment data\nros2 bag record -o experiment_1 /robot/velocity /robot/odometry /camera/image\n\n# Later: Replay the experiment\nros2 bag play experiment_1\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"command-cheat-sheet",children:"Command Cheat Sheet"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Command"}),(0,i.jsx)(s.th,{children:"Purpose"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"ros2 topic list"})}),(0,i.jsx)(s.td,{children:"List all topics"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"ros2 topic echo <topic>"})}),(0,i.jsx)(s.td,{children:"Show topic messages"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"ros2 topic pub <topic> <type> <data>"})}),(0,i.jsx)(s.td,{children:"Publish to topic"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"ros2 topic hz <topic>"})}),(0,i.jsx)(s.td,{children:"Check publish frequency"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"ros2 node list"})}),(0,i.jsx)(s.td,{children:"List all nodes"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"ros2 node info <node>"})}),(0,i.jsx)(s.td,{children:"Show node details"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"ros2 service list"})}),(0,i.jsx)(s.td,{children:"List all services"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"ros2 service call <service> <type> <data>"})}),(0,i.jsx)(s.td,{children:"Call a service"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"ros2 param list <node>"})}),(0,i.jsx)(s.td,{children:"List node parameters"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"ros2 param get <node> <param>"})}),(0,i.jsx)(s.td,{children:"Get parameter value"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"ros2 param set <node> <param> <value>"})}),(0,i.jsx)(s.td,{children:"Set parameter value"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"ros2 interface show <type>"})}),(0,i.jsx)(s.td,{children:"Show message definition"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"ros2 bag record <topics>"})}),(0,i.jsx)(s.td,{children:"Record topics"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"ros2 bag play <bag>"})}),(0,i.jsx)(s.td,{children:"Play recorded data"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"ros2 run <pkg> <node>"})}),(0,i.jsx)(s.td,{children:"Run a node"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"ros2 launch <pkg> <file>"})}),(0,i.jsx)(s.td,{children:"Launch a launch file"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"rqt_graph"})}),(0,i.jsx)(s.td,{children:"Visualize node graph"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"ros2 doctor"})}),(0,i.jsx)(s.td,{children:"Diagnose system issues"})]})]})]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"common-patterns-and-best-practices",children:"Common Patterns and Best Practices"}),"\n",(0,i.jsx)(s.h3,{id:"1-always-source-your-workspace",children:"1. Always Source Your Workspace"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"source /opt/ros/humble/setup.bash\nsource ~/ros2_ws/install/setup.bash\n"})}),"\n",(0,i.jsx)(s.h3,{id:"2-use-tab-completion",children:"2. Use Tab Completion"}),"\n",(0,i.jsxs)(s.p,{children:["The ROS 2 CLI supports tab completion. Press ",(0,i.jsx)(s.code,{children:"Tab"})," twice to see available options:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 topic <TAB><TAB>\n# Shows: bw  delay  echo  find  hz  info  list  pub  type\n"})}),"\n",(0,i.jsx)(s.h3,{id:"3-combine-with-standard-linux-tools",children:"3. Combine with Standard Linux Tools"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Filter topics by name\nros2 topic list | grep robot\n\n# Count number of nodes\nros2 node list | wc -l\n\n# Save topic output to file\nros2 topic echo /chatter > output.txt\n"})}),"\n",(0,i.jsx)(s.h3,{id:"4-use-remapping-for-testing",children:"4. Use Remapping for Testing"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Run same node with different topic\nros2 run demo_nodes_cpp talker --ros-args -r chatter:=/test_topic\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"troubleshooting-with-cli-tools",children:"Troubleshooting with CLI Tools"}),"\n",(0,i.jsx)(s.h3,{id:"problem-no-topics-available",children:'Problem: "No topics available"'}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Check if any nodes are running\nros2 node list\n\n# Check ROS domain ID\necho $ROS_DOMAIN_ID\n\n# Try ros2 doctor\nros2 doctor\n"})}),"\n",(0,i.jsx)(s.h3,{id:"problem-service-not-available",children:'Problem: "Service not available"'}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# List all services\nros2 service list\n\n# Check node info to see which services it provides\nros2 node info /my_node\n\n# Wait for service\nros2 service call /my_service std_srvs/srv/Empty --timeout 10.0\n"})}),"\n",(0,i.jsx)(s.h3,{id:"problem-messages-not-received",children:'Problem: "Messages not received"'}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Check topic exists\nros2 topic list\n\n# Check message type matches\nros2 topic info /my_topic\n\n# Echo to verify data flow\nros2 topic echo /my_topic\n\n# Check publish rate\nros2 topic hz /my_topic\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"hands-on-exercise",children:"Hands-On Exercise"}),"\n",(0,i.jsx)(s.h3,{id:"exercise-complete-cli-workflow",children:"Exercise: Complete CLI Workflow"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Start a talker node:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 run demo_nodes_cpp talker\n"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"In a new terminal, list all active nodes:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 node list\n"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"List all topics:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 topic list -t\n"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Echo the chatter topic:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 topic echo /chatter\n"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Check the publish rate:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 topic hz /chatter\n"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"In another terminal, manually publish a message:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 topic pub --once /chatter std_msgs/msg/String \"data: 'CLI Test Message'\"\n"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Record 10 seconds of data:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 bag record -o cli_test /chatter\n# Wait 10 seconds, then Ctrl+C\n"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Stop the talker and play back the recording:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 bag play cli_test\n"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Visualize the node graph:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"rqt_graph\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsx)(s.p,{children:"The ROS 2 CLI tools are essential for:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Inspection"}),": Understanding what's happening in your system"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Debugging"}),": Finding and fixing communication issues"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Testing"}),": Verifying functionality without writing code"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Recording"}),": Capturing data for analysis and replay"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Mastering these tools will significantly speed up your development and debugging workflow."}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/physical-ai-humanoid-robotics/docs/module-1-ros2/ch2-python-rclpy/first-node",children:"First ROS 2 Node"})," - Create your first Python node"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/physical-ai-humanoid-robotics/docs/module-1-ros2/ch2-python-rclpy/message-types",children:"Message Types"})," - Learn about different message types"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"/physical-ai-humanoid-robotics/docs/module-1-ros2/ch4-packages/debugging",children:"Debugging Guide"})," - Advanced debugging techniques"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://docs.ros.org/en/humble/Tutorials/Beginner-CLI-Tools.html",children:"ROS 2 CLI Documentation"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://github.com/ubuntu-robotics/ros2_cheats_sheet",children:"ROS 2 Command Cheat Sheet"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://docs.ros.org/en/humble/Concepts/About-RQt.html",children:"rqt Tools"})}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>c});var r=n(6540);const i={},l=r.createContext(i);function a(e){const s=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(l.Provider,{value:s},e.children)}}}]);