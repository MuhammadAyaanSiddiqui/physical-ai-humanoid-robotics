"use strict";(globalThis.webpackChunkphysical_ai_course=globalThis.webpackChunkphysical_ai_course||[]).push([[4522],{1246:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>t,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"module-3-isaac/ch9-navigation/path-planning","title":"Path Planning Algorithms","description":"Overview","source":"@site/docs/module-3-isaac/ch9-navigation/path-planning.md","sourceDirName":"module-3-isaac/ch9-navigation","slug":"/module-3-isaac/ch9-navigation/path-planning","permalink":"/physical-ai-humanoid-robotics/docs/module-3-isaac/ch9-navigation/path-planning","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-3-isaac/ch9-navigation/path-planning.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Map Building with SLAM","permalink":"/physical-ai-humanoid-robotics/docs/module-3-isaac/ch9-navigation/map-building"},"next":{"title":"Obstacle Avoidance & Costmaps","permalink":"/physical-ai-humanoid-robotics/docs/module-3-isaac/ch9-navigation/obstacle-avoidance"}}');var l=i(4848),r=i(8453);const s={},o="Path Planning Algorithms",t={},c=[{value:"Overview",id:"overview",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Part 1: Planning Architecture",id:"part-1-planning-architecture",level:2},{value:"Two-Layer Planning",id:"two-layer-planning",level:3},{value:"Part 2: Global Planning with A*",id:"part-2-global-planning-with-a",level:2},{value:"A* Algorithm",id:"a-algorithm",level:3},{value:"Configuration",id:"configuration",level:3},{value:"Launch Global Planner",id:"launch-global-planner",level:3},{value:"Part 3: Local Planning with DWA",id:"part-3-local-planning-with-dwa",level:2},{value:"DWA (Dynamic Window Approach)",id:"dwa-dynamic-window-approach",level:3},{value:"Part 4: TEB Planner for Smooth Motion",id:"part-4-teb-planner-for-smooth-motion",level:2},{value:"Timed Elastic Band",id:"timed-elastic-band",level:3},{value:"Part 5: Testing in Isaac Sim",id:"part-5-testing-in-isaac-sim",level:2},{value:"Send Navigation Goal",id:"send-navigation-goal",level:3},{value:"Visualize in RViz",id:"visualize-in-rviz",level:3},{value:"Part 6: Performance Comparison",id:"part-6-performance-comparison",level:2},{value:"Summary",id:"summary",level:2},{value:"Resources",id:"resources",level:2}];function d(n){const e={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"path-planning-algorithms",children:"Path Planning Algorithms"})}),"\n",(0,l.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Path planning"})," finds collision-free routes from the robot's current position to a goal. Nav2 provides multiple planning algorithms optimized for different scenarios: global planners (A*, Dijkstra) for long-range paths and local planners (DWA, TEB) for real-time obstacle avoidance."]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"What You'll Learn"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Global planning with A* and Smac Planner"}),"\n",(0,l.jsx)(e.li,{children:"Local planning with DWA (Dynamic Window Approach)"}),"\n",(0,l.jsx)(e.li,{children:"TEB (Timed Elastic Band) for smooth trajectories"}),"\n",(0,l.jsx)(e.li,{children:"Configure planners for different robot types"}),"\n",(0,l.jsx)(e.li,{children:"Tune planner parameters for performance"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Prerequisites"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Map Building (previous lesson)"}),"\n",(0,l.jsx)(e.li,{children:"Understanding of graph search algorithms"}),"\n",(0,l.jsx)(e.li,{children:"ROS 2 navigation concepts"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Estimated Time"}),": 3 hours"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"Understand global vs. local planning"}),"\n",(0,l.jsx)(e.li,{children:"Configure A* for optimal path finding"}),"\n",(0,l.jsx)(e.li,{children:"Use DWA for dynamic obstacle avoidance"}),"\n",(0,l.jsx)(e.li,{children:"Apply TEB for smooth humanoid navigation"}),"\n",(0,l.jsx)(e.li,{children:"Tune planner parameters for speed/safety tradeoffs"}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"part-1-planning-architecture",children:"Part 1: Planning Architecture"}),"\n",(0,l.jsx)(e.h3,{id:"two-layer-planning",children:"Two-Layer Planning"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:"Goal Position\n    \u2193\nGlobal Planner (A*, Smac) \u2192 Global Path (waypoints)\n    \u2193\nLocal Planner (DWA, TEB) \u2192 Velocity Commands\n    \u2193\nRobot Controllers \u2192 Motor Commands\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Global Planner"}),": Computes path on static map (ignores dynamic obstacles)\n",(0,l.jsx)(e.strong,{children:"Local Planner"}),": Follows global path while avoiding real-time obstacles"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"part-2-global-planning-with-a",children:"Part 2: Global Planning with A*"}),"\n",(0,l.jsx)(e.h3,{id:"a-algorithm",children:"A* Algorithm"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Cost Function"}),": ",(0,l.jsx)(e.code,{children:"f(n) = g(n) + h(n)"})]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"g(n)"}),": Cost from start to node n"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"h(n)"}),": Heuristic (estimated cost from n to goal)"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"configuration",children:"Configuration"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-yaml",children:"planner_server:\n  ros__parameters:\n    planner_plugins: ['GridBased']\n    GridBased:\n      plugin: nav2_navfn_planner/NavfnPlanner\n      tolerance: 0.5\n      use_astar: true\n      allow_unknown: true\n"})}),"\n",(0,l.jsx)(e.h3,{id:"launch-global-planner",children:"Launch Global Planner"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"ros2 launch nav2_bringup navigation_launch.py \\\n  map:=~/maps/warehouse_map.yaml \\\n  use_sim_time:=true\n"})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"part-3-local-planning-with-dwa",children:"Part 3: Local Planning with DWA"}),"\n",(0,l.jsx)(e.h3,{id:"dwa-dynamic-window-approach",children:"DWA (Dynamic Window Approach)"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Concept"}),": Sample velocity space, simulate trajectories, choose best"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Parameters"}),":"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-yaml",children:"controller_server:\n  ros__parameters:\n    controller_plugins: ['FollowPath']\n    FollowPath:\n      plugin: dwb_core::DWBLocalPlanner\n      max_vel_x: 0.5\n      min_vel_x: -0.2\n      max_vel_theta: 1.0\n      acc_lim_x: 2.5\n      acc_lim_theta: 3.2\n\n      # Trajectory scoring\n      path_distance_bias: 32.0\n      goal_distance_bias: 24.0\n      occdist_scale: 0.01\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Tuning Tips"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["Increase ",(0,l.jsx)(e.code,{children:"path_distance_bias"})," for tighter path following"]}),"\n",(0,l.jsxs)(e.li,{children:["Increase ",(0,l.jsx)(e.code,{children:"occdist_scale"})," for more cautious obstacle avoidance"]}),"\n",(0,l.jsxs)(e.li,{children:["Reduce ",(0,l.jsx)(e.code,{children:"max_vel_x"})," for safer navigation in crowded spaces"]}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"part-4-teb-planner-for-smooth-motion",children:"Part 4: TEB Planner for Smooth Motion"}),"\n",(0,l.jsx)(e.h3,{id:"timed-elastic-band",children:"Timed Elastic Band"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Best for"}),": Humanoid robots, smooth trajectories, time-optimal paths"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-yaml",children:"controller_server:\n  ros__parameters:\n    controller_plugins: ['FollowPath']\n    FollowPath:\n      plugin: teb_local_planner::TebLocalPlannerROS\n\n      # Trajectory settings\n      teb_autosize: true\n      dt_ref: 0.3\n      dt_hysteresis: 0.1\n      min_samples: 3\n\n      # Robot kinematics\n      max_vel_x: 0.4\n      max_vel_theta: 0.3\n      acc_lim_x: 0.5\n      acc_lim_theta: 0.5\n\n      # Goal tolerance\n      xy_goal_tolerance: 0.2\n      yaw_goal_tolerance: 0.1\n"})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"part-5-testing-in-isaac-sim",children:"Part 5: Testing in Isaac Sim"}),"\n",(0,l.jsx)(e.h3,{id:"send-navigation-goal",children:"Send Navigation Goal"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Method 1: RViz"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:'Click "2D Nav Goal" button'}),"\n",(0,l.jsx)(e.li,{children:"Click target position on map"}),"\n",(0,l.jsx)(e.li,{children:"Drag to set orientation"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Method 2: Python"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:"from geometry_msgs.msg import PoseStamped\n\ndef send_nav_goal(x, y, yaw):\n    goal = PoseStamped()\n    goal.header.frame_id = 'map'\n    goal.header.stamp = node.get_clock().now().to_msg()\n    goal.pose.position.x = x\n    goal.pose.position.y = y\n    goal.pose.orientation.z = math.sin(yaw / 2)\n    goal.pose.orientation.w = math.cos(yaw / 2)\n\n    nav_goal_pub.publish(goal)\n"})}),"\n",(0,l.jsx)(e.h3,{id:"visualize-in-rviz",children:"Visualize in RViz"}),"\n",(0,l.jsx)(e.p,{children:"Add displays:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Path"})," \u2192 ",(0,l.jsx)(e.code,{children:"/plan"})," (global path)"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Path"})," \u2192 ",(0,l.jsx)(e.code,{children:"/local_plan"})," (DWA trajectory)"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Marker"})," \u2192 ",(0,l.jsx)(e.code,{children:"/goal_pose"})," (target)"]}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"part-6-performance-comparison",children:"Part 6: Performance Comparison"}),"\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"Planner"}),(0,l.jsx)(e.th,{children:"Speed"}),(0,l.jsx)(e.th,{children:"Smoothness"}),(0,l.jsx)(e.th,{children:"Obstacle Avoidance"}),(0,l.jsx)(e.th,{children:"Best For"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{children:[(0,l.jsxs)(e.em,{children:[(0,l.jsx)(e.em,{children:"A"})," (NavFn)"]}),"*"]}),(0,l.jsx)(e.td,{children:"Fast"}),(0,l.jsx)(e.td,{children:"Angular"}),(0,l.jsx)(e.td,{children:"Static obstacles"}),(0,l.jsx)(e.td,{children:"Simple robots"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.strong,{children:"Smac Hybrid"})}),(0,l.jsx)(e.td,{children:"Medium"}),(0,l.jsx)(e.td,{children:"Smooth"}),(0,l.jsx)(e.td,{children:"Static obstacles"}),(0,l.jsx)(e.td,{children:"Car-like robots"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.strong,{children:"DWA"})}),(0,l.jsx)(e.td,{children:"Fast"}),(0,l.jsx)(e.td,{children:"Moderate"}),(0,l.jsx)(e.td,{children:"Dynamic obstacles"}),(0,l.jsx)(e.td,{children:"Differential drive"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.strong,{children:"TEB"})}),(0,l.jsx)(e.td,{children:"Medium"}),(0,l.jsx)(e.td,{children:"Very Smooth"}),(0,l.jsx)(e.td,{children:"Dynamic obstacles"}),(0,l.jsx)(e.td,{children:"Humanoids"})]})]})]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,l.jsx)(e.p,{children:"\u2705 Configured global planning with A*\n\u2705 Implemented local planning with DWA\n\u2705 Applied TEB for smooth humanoid motion\n\u2705 Tuned parameters for navigation performance"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Next"}),": Obstacle avoidance and costmap configuration."]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"resources",children:"Resources"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Nav2 Planners"}),": ",(0,l.jsx)(e.a,{href:"https://navigation.ros.org/plugins/index.html",children:"https://navigation.ros.org/plugins/index.html"})]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"DWA Paper"}),": ",(0,l.jsx)(e.a,{href:"https://ieeexplore.ieee.org/document/580977",children:"https://ieeexplore.ieee.org/document/580977"})]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"TEB Planner"}),": ",(0,l.jsx)(e.a,{href:"http://wiki.ros.org/teb_local_planner",children:"http://wiki.ros.org/teb_local_planner"})]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(d,{...n})}):d(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>s,x:()=>o});var a=i(6540);const l={},r=a.createContext(l);function s(n){const e=a.useContext(r);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:s(n.components),a.createElement(r.Provider,{value:e},n.children)}}}]);